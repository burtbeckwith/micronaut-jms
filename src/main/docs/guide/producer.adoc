= Defining a JMS Producer

You can define a producer using the following syntax

[source,java]
----
@JMSProducer("myConnectionFactory")
public interface MyProducer {
    @Queue(destination = "my-queue")
    void send(MyObject message, @Header("X-Arbitrary-Header") String arbitraryHeader);
}
----

Additionally, a `JMSProducer` can be instantiated directly and requires minimal configuration to get up and running.
The following snippet should suffice:

[source,java]
----
@Factory
public class MyConfiguration {
    @Singleton
    public JmsProducer producer(JMSConnectionPool pool) {
        final JmsProducer producer = new JmsProducer();
        producer.setConnectionFactory(pool);
        producer.setSerializer(new DefaultSerializerDeserializer());
        return producer;
    }
}

@Singleton
public class MyBusinessLogic {

    private final JmsProducer producer;

    public MyBusinessLogic(JmsProducer producer) {
        this.producer = producer;
    }

    public void aMethod(String message) {
        producer.send("my-queue", message, new MessageHeader(JMSHeaders.JMS_REPLY_TO, "my-reply-queue"));
    }

    public <T> void anotherMethod(T complexMessage) {
        producer.send("my-queue", complexMessage, new MessageHeader("X-Arbitrary-Header", "my-reply-queue"));
    }
}
----

_**NOTE**_: If you pass an object to the `send` method, by default it will be serialized to JSON and sent to the broker as a `javax.jms.TextMessage`
